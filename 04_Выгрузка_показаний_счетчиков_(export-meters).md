Выгрузка данных производится программно по протоколу [[обмена данными|/Для_разработчиков/Протокол_обмена]], либо на странице *Сервисы — ТСЖ — Обмен — Выгрузка показаний счетчиков* в [административной части](http://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=35&LESSON_ID=2833#admin) сайта.

**Параметры запроса на выгрузку показаний счетчиков**:

|             | Возможные значения    |  Описание |
| ----------- | --------------------- | -------- |
| **mode**    | `export`              | | 
| **type**    | `meters`              | | 
| **inn**     | Целое число           | На сайте должен существовать *Объект управления* с указанным ИНН |
| datebeg     | Дата или время        | Начальная дата ввода показаний для ограничения результата |
| dateend     | Дата или время        | Конечная дата (включительно) ввода показаний для ограничения результата |
| owner       | `0` или `1`           | Определяет будут ли выгружены все показания или только показания, введенные на сайте владельцем лицевого счета |

> Обязательные параметры отмечены полужирным  

# Пример файла

```xml
<?xml version="1.0" encoding="windows-1251"?>
<ORG name="ТСЖ &quot;Престиж&quot;" inn="1215143804" filedate="14.01.2015 11:24:34" filetype="meters" version="3">
	<PersAssoc kod_ls="1 TSGUz8Tz2N" uf_regcode="6mYwZ7Zg">
		<meter value_count="1" kod="000000051" name="488 138 182 488 000" date="31.01.2011 00:00:00" indiccur1="231,00000000" indicbef1="231,00000000" indiccur2="0,00000000" indicbef2="0,00000000" />
		<meter value_count="2" kod="000000190" name="СчетчикТестОплаты" date="31.01.2011 00:00:00" indiccur1="1000,00000000" indicbef1="1000,00000000" indiccur2="1000,00000000" indicbef2="1000,00000000" />
		<meter value_count="2" kod="000000188" name="Сост1" date="31.01.2011 00:00:00" indiccur1="600,00000000" indicbef1="600,00000000" indiccur2="800,00000000" indicbef2="800,00000000" />
		<meter value_count="2" kod="000000189" name="Сост" date="31.01.2011 00:00:00" indiccur1="800,00000000" indicbef1="800,00000000" indiccur2="900,00000000" indicbef2="900,00000000" />
	</PersAssoc>
	<PersAssoc kod_ls="Pillau" uf_regcode="4cBk3WrZ">
		<meter value_count="1" kod="12719228" name="х.в.в" date="15.12.2014 00:00:00" indiccur1="41,00000000" indicbef1="41,00000000" indiccur2="0,00000000" indicbef2="0,00000000" />
		<meter value_count="1" kod="12719225" name="г.в." date="15.12.2014 00:00:00" indiccur1="27,00000000" indicbef1="27,00000000" indiccur2="0,00000000" indicbef2="0,00000000" />
		<meter value_count="1" kod="12719226" name="х.в.т" date="15.12.2014 00:00:00" indiccur1="40,00000000" indicbef1="40,00000000" indiccur2="0,00000000" indicbef2="0,00000000" />
	</PersAssoc>
</ORG>
```

# Описание элементов

## `ORG`

Корневой элемент файла

**Атрибуты**

|              | Тип          | Описание |
| ------------ | ------------ | --- |
| **name**     | Строка       | Наименование организации |
| **inn**      | Целое число  | ИНН организации |
| **filedate** | Дата и время | Дата формирования выгрузки |
| filetype     | Строка       | Содержит строку `meters` |
| version      | Целое число  | Текущий номер версии формата обмена |

## `PersAcc`

Содержит данные по одному **лицевому счету**. Внутри `<ORG>` может быть расположено множество тегов `PersAcc`.

**Атрибуты**

|              | Тип              | Описание |
| -------------| ---------------- | --- |
| **kod_ls**   | Строка           | Код лицевого счета. Соответствует коду, указанному в файле [импорта лицевых счетов](/Для_разработчиков/Загрузка_данных_лицевых_счетов_(import-accounts)) |
| uf_<код>     | Строка или число | В атрибутах с префиксом `uf_` выгружаются значения всех [пользовательских полей](http://dev.1c-bitrix.ru/learning/course/?COURSE_ID=43&CHAPTER_ID=04804) лицевого счета (объект TSZH_ACCOUNT) |

## `meter`

Представляет собой показания одного прибора учета (счетчика). Элементы `<meter>` содержатся внутри тега `<PersAcc>` — лицевого счета, которому они принадлежат.

|                    | Возможные значения        |  Описание |
| ------------------ | ------------------------- | -------- |
| value_count        | Целое число               | Количество тарифов счетчика. Если атрибут не указан, его значение полагается равным `2` |
| **kod**            | Строка                    | Код счетчика. Соответствует коду, указанному для счетчика в [файле загрузки лицевых счетов](/Для_разработчиков/Загрузка_данных_лицевых_счетов_(import-accounts)) |
| **name**           | Строка                    | Наименование счетчика |
| **date**           | Дата и время              | Дата ввода показания счетчика |
| **indiccurN**      | Число                     | Текущее показание счетчика по тарифу *N*. `N` изменяется от `1` до `value_count` |
| indicbefN          | Число                     | Атрибут выгружается для сохранения совместимости со старыми версиями, его значение использовать нельзя |
